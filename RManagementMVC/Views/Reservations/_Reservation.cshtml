@model ReservationViewModel
@{
    var action = ViewBag.Action ?? string.Empty;

    var pageTitle = action == "Create" ? "Create Reservation" : "Edit Reservation";

    var maxQuantity = ViewBag.MaxTableQuantity ?? 10;
}

<section class="container mt-4 mb-2">
    <h1>@pageTitle</h1>

    <form asp-controller="Reservations" asp-action="@action" method="post">
        <div class="row g-3">
            <div class="col-md-6">
                <label asp-for="At" class="form-label"></label>
                <input asp-for="At" class="form-control" type="date"
                       min="@DateTime.Now.ToString("yyyy-MM-dd")"
                       max="@DateTime.Now.AddYears(1).ToString("yyyy-MM-dd")" />
                <span asp-validation-for="At" class="text-danger"></span>
            </div>

            <div class="col-md-6">
                <label asp-for="TimeSlot" class="form-label">Time</label>
                <select asp-for="TimeSlot" class="form-select">
                    <option value="">Select a time</option>
                    <option value="11:00">11:00 AM</option>
                    <option value="11:30">11:30 AM</option>
                    <option value="12:00">12:00 PM</option>
                    <option value="12:30">12:30 PM</option>
                    <option value="13:00">1:00 PM</option>
                    <option value="13:30">1:30 PM</option>
                    <option value="14:00">2:00 PM</option>
                    <option value="14:30">2:30 PM</option>
                    <option value="15:00">3:00 PM</option>
                    <option value="15:30">3:30 PM</option>
                    <option value="16:00">4:00 PM</option>
                    <option value="16:30">4:30 PM</option>
                    <option value="17:00">5:00 PM</option>
                    <option value="17:30">5:30 PM</option>
                    <option value="18:00">6:00 PM</option>
                    <option value="18:30">6:30 PM</option>
                    <option value="19:00">7:00 PM</option>
                    <option value="19:30">7:30 PM</option>
                    <option value="20:00">8:00 PM</option>
                    <option value="20:30">8:30 PM</option>
                    <option value="21:00">9:00 PM</option>
                    <option value="21:30">9:30 PM</option>
                    <option value="22:00">10:00 PM</option>
                </select>
                <span asp-validation-for="TimeSlot" class="text-danger"></span>
            </div>

            <div class="col-md-6">
                <label asp-for="Name" class="form-label"></label>
                <input asp-for="Name" class="form-control" />
                <span asp-validation-for="Name" class="text-danger"></span>
            </div>

            <div class="col-md-6">
                <label asp-for="Email" class="form-label"></label>
                <input asp-for="Email" class="form-control" />
                <span asp-validation-for="Email" class="text-danger"></span>
            </div>

            <div class="col-md-6">
                <label asp-for="Quantity" class="form-label"></label>
                <select asp-for="Quantity" class="form-select">
                    <option value="">Select number of people</option>
                    @for (int i = 1; i <= maxQuantity; i++)

                    {
                        <option value="@i">@i</option>
                    }
                </select>
                <span asp-validation-for="Quantity" class="text-danger"></span>
            </div>
        </div>

        <div class="mt-3">
            <button type="submit" class="btn btn-primary">@(action == "Create" ? "Create Reservation" : "Update Reservation")</button>
            <a asp-controller="Admin" asp-action="Panel" class="btn btn-secondary">Cancel</a>
        </div>

        @if (Model.Id != null)

        {
            <input type="hidden" asp-for="Id" />
        }
    </form>
</section>